{"version":3,"file":"ProjectContext-BsBMIYvG.js","sources":["../../src/pages/project/ProjectContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, ReactNode } from 'react';\r\n\r\nexport interface Workflow {\r\n    id: string;\r\n    name: string;\r\n    user_name: string;\r\n    updated_at: string;\r\n    description?: string;\r\n    seq?: number;\r\n    status?: 'Active' | 'Idle';\r\n    created_at?: string;\r\n    isFavorite?: boolean;\r\n}\r\n\r\ninterface ProjectContextType {\r\n    searchKeyword: string;\r\n    setSearchKeyword: (keyword: string) => void;\r\n    selectedFilter: 'all' | 'mine';\r\n    setSelectedFilter: (filter: 'all' | 'mine') => void;\r\n    viewMode: 'all' | 'favorites';\r\n    setViewMode: (mode: 'all' | 'favorites') => void;\r\n\r\n    workflows: Workflow[];\r\n    setWorkflows: (workflows: Workflow[]) => void;\r\n    userName: string;\r\n    setUserName: (name: string) => void;\r\n\r\n    toggleFavorite: (workflowId: string) => void;\r\n\r\n    filteredWorkflows: Workflow[];\r\n}\r\n\r\nconst ProjectContext = createContext<ProjectContextType | undefined>(undefined);\r\n\r\ninterface ProjectProviderProps {\r\n    children: ReactNode;\r\n}\r\n\r\nexport const ProjectProvider = ({ children }: ProjectProviderProps) => {\r\n    const [searchKeyword, setSearchKeyword] = useState('');\r\n    const [selectedFilter, setSelectedFilter] = useState<'all' | 'mine'>('all');\r\n    const [viewMode, setViewMode] = useState<'all' | 'favorites'>('all');\r\n    const [workflows, setWorkflows] = useState<Workflow[]>([]);\r\n    const [userName, setUserName] = useState('김재희');\r\n\r\n    const toggleFavorite = (workflowId: string) => {\r\n        setWorkflows((prev) => prev.map((w) => (w.id === workflowId ? { ...w, isFavorite: !w.isFavorite } : w)));\r\n    };\r\n\r\n    const filteredWorkflows = workflows.filter((w) => {\r\n        if (searchKeyword) {\r\n            const q = searchKeyword.toLowerCase();\r\n            const matches =\r\n                w.name.toLowerCase().includes(q) ||\r\n                w.id.toLowerCase().includes(q) ||\r\n                (w.description?.toLowerCase().includes(q) ?? false);\r\n            if (!matches) return false;\r\n        }\r\n        if (selectedFilter === 'mine') return w.user_name === userName;\r\n        if (viewMode === 'favorites') return w.isFavorite === true;\r\n        return true;\r\n    });\r\n\r\n    const value: ProjectContextType = {\r\n        searchKeyword,\r\n        setSearchKeyword,\r\n        selectedFilter,\r\n        setSelectedFilter,\r\n        viewMode,\r\n        setViewMode,\r\n        workflows,\r\n        setWorkflows,\r\n        userName,\r\n        setUserName,\r\n        toggleFavorite,\r\n        filteredWorkflows,\r\n    };\r\n\r\n    return <ProjectContext.Provider value={value}>{children}</ProjectContext.Provider>;\r\n};\r\n\r\nexport const useProject = () => {\r\n    const ctx = useContext(ProjectContext);\r\n    if (!ctx) throw new Error('useProject must be used within a ProjectProvider');\r\n    return ctx;\r\n};\r\n\r\n\r\n"],"names":["ProjectContext","createContext","ProjectProvider","children","searchKeyword","setSearchKeyword","useState","selectedFilter","setSelectedFilter","viewMode","setViewMode","workflows","setWorkflows","userName","setUserName","toggleFavorite","workflowId","prev","w","filteredWorkflows","q","_a","value","jsx","useProject","ctx","useContext"],"mappings":"0CAgCA,MAAMA,EAAiBC,EAAAA,cAA8C,MAAS,EAMjEC,EAAkB,CAAC,CAAE,SAAAC,KAAqC,CACnE,KAAM,CAACC,EAAeC,CAAgB,EAAIC,EAAAA,SAAS,EAAE,EAC/C,CAACC,EAAgBC,CAAiB,EAAIF,EAAAA,SAAyB,KAAK,EACpE,CAACG,EAAUC,CAAW,EAAIJ,EAAAA,SAA8B,KAAK,EAC7D,CAACK,EAAWC,CAAY,EAAIN,EAAAA,SAAqB,CAAA,CAAE,EACnD,CAACO,EAAUC,CAAW,EAAIR,EAAAA,SAAS,KAAK,EAExCS,EAAkBC,GAAuB,CAC3CJ,EAAcK,GAASA,EAAK,IAAKC,GAAOA,EAAE,KAAOF,EAAa,CAAE,GAAGE,EAAG,WAAY,CAACA,EAAE,UAAA,EAAeA,CAAE,CAAC,CAC3G,EAEMC,EAAoBR,EAAU,OAAQO,GAAM,OAC9C,GAAId,EAAe,CACf,MAAMgB,EAAIhB,EAAc,YAAA,EAKxB,GAAI,EAHAc,EAAE,KAAK,YAAA,EAAc,SAASE,CAAC,GAC/BF,EAAE,GAAG,cAAc,SAASE,CAAC,MAC5BC,EAAAH,EAAE,cAAF,YAAAG,EAAe,cAAc,SAASD,KAAM,KACnC,MAAO,EACzB,CACA,OAAIb,IAAmB,OAAeW,EAAE,YAAcL,EAClDJ,IAAa,YAAoBS,EAAE,aAAe,GAC/C,EACX,CAAC,EAEKI,EAA4B,CAC9B,cAAAlB,EACA,iBAAAC,EACA,eAAAE,EACA,kBAAAC,EACA,SAAAC,EACA,YAAAC,EACA,UAAAC,EACA,aAAAC,EACA,SAAAC,EACA,YAAAC,EACA,eAAAC,EACA,kBAAAI,CAAA,EAGJ,OAAOI,EAAAA,IAACvB,EAAe,SAAf,CAAwB,MAAAsB,EAAe,SAAAnB,CAAA,CAAS,CAC5D,EAEaqB,EAAa,IAAM,CAC5B,MAAMC,EAAMC,EAAAA,WAAW1B,CAAc,EACrC,GAAI,CAACyB,EAAK,MAAM,IAAI,MAAM,kDAAkD,EAC5E,OAAOA,CACX"}