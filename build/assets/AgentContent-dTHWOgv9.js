import{R as h,j as e,S,$ as _,V as c,W as P,P as E,T as u,ah as m,I as p,Y as N,ai as R,aj as D,ak as O,al as K}from"./index-bjheDx0b.js";import{StatusChip as $}from"./StatusChip-C3wuRFxo.js";import{useProject as k}from"./ProjectContext-i8ZWzx6t.js";import{T as V,a as U,S as Y,I as q,b as G,c as H,d as J,e as W,f as s,g as L}from"./ToggleButtonGroup-Q3bmn6UM.js";import{C as Q}from"./Chip-DvC8yDsD.js";import{T as X}from"./TextField-pcWQzCUY.js";const Z=j=>{const d=new Date(j),f=(d.getMonth()+1).toString().padStart(2,"0"),v=d.getDate().toString().padStart(2,"0");return`${d.getFullYear()}.${f}.${v}`},ie=({workflowData:j})=>{const{searchKeyword:d,setSearchKeyword:f,selectedFilter:v,setSelectedFilter:y,viewMode:I,setViewMode:C,filteredWorkflows:b,workflows:o,setWorkflows:T,toggleFavorite:F,userName:z}=k(),[r,B]=h.useState("updated_at"),[i,A]=h.useState("desc"),g=h.useMemo(()=>{const t=o.length,l=o.filter(a=>a.user_name===z).length,n=o.filter(a=>a.isFavorite===!0).length;return{total:t,mineCount:l,favoritesCount:n}},[o,z]),M=h.useMemo(()=>[...b].sort((t,l)=>{const n=t[r],a=l[r];return n===void 0||a===void 0?0:typeof n=="string"&&typeof a=="string"?i==="asc"?n.localeCompare(a):a.localeCompare(n):typeof n=="number"&&typeof a=="number"?i==="asc"?n-a:a-n:0}),[b,r,i]);h.useEffect(()=>{o.length===0&&T(j)},[o.length,T,j]);const x=t=>{r===t?A(i==="asc"?"desc":"asc"):(B(t),A("desc"))};return e.jsxs(S,{children:[e.jsxs(S,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(V,{exclusive:!0,color:"secondary",value:I==="favorites"?"favorites":v,"aria-label":"filter toggle buttons",onChange:(t,l)=>{l&&(l==="favorites"?(y("all"),C("favorites")):(y(l),C("all")))},children:[{id:"all",label:"All Agent",count:g.total,value:"all"},{id:"mine",label:"My Agent",count:g.mineCount,value:"mine"},{id:"favorites",label:"Favorites",count:g.favoritesCount,value:"favorites"}].map(t=>e.jsxs(U,{size:"small",value:t.value,sx:{gap:1},children:[t.label,e.jsx(Q,{label:t.count,size:"small",sx:{backgroundColor:"grey.300"}})]},t.id))}),e.jsxs(Y,{direction:"row",spacing:1,children:[e.jsx(X,{placeholder:"Search Agents...",value:d,onChange:t=>f(t.target.value),size:"small",sx:{minWidth:300},InputProps:{startAdornment:e.jsx(q,{position:"start",children:e.jsx(_,{color:"action"})})}}),e.jsx(c,{variant:"contained",startIcon:e.jsx(P,{}),children:"New Workflow"})]})]}),e.jsx(G,{component:E,sx:{boxShadow:"none",border:"1px solid",borderColor:"divider"},children:e.jsxs(H,{size:"small",children:[e.jsxs("colgroup",{children:[e.jsx("col",{style:{width:"30%"}}),e.jsx("col",{style:{width:"30%"}}),e.jsx("col",{style:{width:"8%"}}),e.jsx("col",{style:{width:"10%"}}),e.jsx("col",{}),e.jsx("col",{})]}),e.jsx(J,{children:e.jsxs(W,{children:[e.jsx(s,{children:e.jsxs(c,{variant:"text",onClick:()=>x("name"),sx:{minWidth:"auto",p:0},children:["NAME",r==="name"&&(i==="asc"?" ↑":" ↓")]})}),e.jsx(s,{children:e.jsxs(c,{variant:"text",onClick:()=>x("description"),sx:{minWidth:"auto",p:0},children:["DESCRIPTION",r==="description"&&(i==="asc"?" ↑":" ↓")]})}),e.jsx(s,{children:e.jsxs(c,{variant:"text",onClick:()=>x("status"),sx:{minWidth:"auto",p:0},children:["STATUS",r==="status"&&(i==="asc"?" ↑":" ↓")]})}),e.jsx(s,{children:e.jsxs(c,{variant:"text",onClick:()=>x("updated_at"),sx:{minWidth:"auto",p:0},children:["UPDATED",r==="updated_at"&&(i==="asc"?" ↑":" ↓")]})}),e.jsx(s,{children:e.jsxs(c,{variant:"text",onClick:()=>x("user_name"),sx:{minWidth:"auto",p:0},children:["OWNER",r==="user_name"&&(i==="asc"?" ↑":" ↓")]})}),e.jsx(s,{children:"ACTIONS"})]})}),e.jsx(L,{children:M.map(t=>e.jsxs(W,{hover:!0,children:[e.jsxs(s,{children:[e.jsx(u,{variant:"body2",sx:{fontWeight:500},children:t.name}),e.jsx(u,{variant:"caption",color:"text.secondary",children:t.id})]}),e.jsx(s,{children:e.jsx(u,{variant:"body2",color:"text.secondary",children:t.description})}),e.jsx(s,{children:e.jsx($,{status:t.status})}),e.jsx(s,{children:e.jsx(u,{variant:"body2",children:Z(t.updated_at||"")})}),e.jsx(s,{children:e.jsx(u,{variant:"body2",children:t.user_name})}),e.jsx(s,{children:e.jsxs(S,{sx:{display:"flex",gap:.5},children:[e.jsx(m,{title:t.isFavorite?"즐겨찾기 해제":"즐겨찾기 추가",children:e.jsx(p,{size:"small",onClick:()=>F(t.id),children:t.isFavorite?e.jsx(N,{fontSize:"small",color:"primary"}):e.jsx(R,{fontSize:"small"})})}),e.jsx(m,{title:"실행",children:e.jsx(p,{size:"small",children:e.jsx(D,{fontSize:"small"})})}),e.jsx(m,{title:"편집",children:e.jsx(p,{size:"small",children:e.jsx(O,{fontSize:"small"})})}),e.jsx(m,{title:"더보기",children:e.jsx(p,{size:"small",children:e.jsx(K,{fontSize:"small"})})})]})})]},t.seq))})]})})]})};export{ie as AgentContent};
//# sourceMappingURL=AgentContent-dTHWOgv9.js.map
